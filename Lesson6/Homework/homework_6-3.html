<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Homework 6-3</title>
</head>
<body>

<!--### Задача 3
Метод elem.closest(css) для поиска ближайшего родителя, удовлетворяющего селектору css, не поддерживается некоторыми браузерами, например IE11-.
Создайте для него полифилл.   -->

<div id="parentDiv">
    <table>
        <tr>
            <td>1:1</td>
            <td>2:1</td>
            <td>
                <ul>
                    <li>3:1</li>
                </ul>
            </td>
            <td>4:1</td>
            <td>5:1</td>
        </tr>
        <tr>
            <td>1:2</td>
            <td>2:2</td>
            <td>3:2</td>
            <td>4:2</td>
            <td>5:2</td>
        </tr>
        <tr>
            <td>1:3</td>
            <td>2:3</td>
            <td>3:3</td>
            <td>4:3</td>
            <td>5:3</td>
        </tr>
    </table>
</div>

<script type="text/javascript">
    window.onload = function () {

        if (document.documentElement.closest === undefined) {
            Object.defineProperty(Element.prototype, 'closest', {
                get: function (css) {
                    var elem = this;
                    do {
                        if (elem.matches(css)) {
                            return elem;
                        }
                        else elem = elem.parentElement;

                    } while (elem);

                    return 'Not found';
                }
            });
        }


        var  li = document.getElementsByTagName('li')[0];
        alert(li.closest('tr'));
    }
</script>
</body>
</html>





