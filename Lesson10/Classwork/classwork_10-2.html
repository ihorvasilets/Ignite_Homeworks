<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Classwork 10-2</title>
</head>
<body>

<!-- ### Задача 2.

Создайте код, который загрузит файл phones.json и выведет все названия телефонов из него в виде списка.
(файлы для задачи находятся в папке task_phone);  -->

<style>
    ul{
        margin-top: 20px;
    }
    ul>li{
        list-style-type: disc;
    }
    ol>li{
        background-color: azure;
    }
</style>

<button id="button">Get data</button>
<div id ="output"</div>

<script>
    window.onload = function () {
        var xhr = new XMLHttpRequest();
        var data = '';
        var output = '';

        document.getElementById("button").onclick = function () {
            xhr.open("GET", "task_phone/phones.json");
            xhr.onreadystatechange = function () {

                if (xhr.readyState == 4 && xhr.status == 200) {

                    //alert(xhr.responseText);
                    data = JSON.parse(xhr.responseText);

                    output = '<ol>';
                    for (var i = 0; i < data.length; i++) {
                        output += '<li>' + '<ul>' + '<li>Age: ' + data[i].age + '</li><li>id: ' + data[i].id + '</li><li><img src="' + data[i].imageUrl + '">' + '</li><li>Name: ' + data[i].name + '</li><li>Snippet: ' + data[i].snippet + '</li></ul>' + '</li>';
                    }
                    output += '/<ol>';

                    document.getElementById("output").innerHTML = output;
                }
            };
            xhr.send();
        }
    }

</script>
</body>
</html>
